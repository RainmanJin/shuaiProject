<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>自选股最终页</title>
	<link rel="stylesheet" href="../moerStatics/css/main.css">
	<link rel="stylesheet" href="./css/optionalStock.css">
</head>
<body>
  <div class="stock-container">
    <div class="stock-cont">
      <div class="stock-info">
        <div class="info-title">
          <button type="button" class="zxg-btn btn-style-1">添加到分组</button>
          <h1><span>600539</span>狮头股份</h1>
        </div>
        <div class="info-data">
          <table>
            <tbody>
              <tr>
                <td width="">昨收</td>
                <td width="140">成交量（万手）</td>
                <td width="125">换手率</td>
                <td width="110">最高</td>
                <td width="150">总市值（亿）</td>
                <td width="115">振幅</td>
              </tr>
              <tr>
                <td>9.50</td>
                <td>7.81</td>
                <td>3.40%</td>
                <td class="font-red">9.53</td>
                <td>20.93</td>
                <td>20.93</td>
              </tr>
            </tbody>
            <tbody>
              <tr>
                <td>今开</td>
                <td>成交额（亿）</td>
                <td>市净率</td>
                <td>最低</td>
                <td>流通市值</td>
                <td>市盈率</td>
              </tr>
              <tr>
                <td>9.50</td>
                <td>0.72</td>
                <td>4.22</td>
                <td class="font-green">8.87</td>
                <td>20.93</td>
                <td>20.93</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="info-stockprice">
          <div class="info-price"> <!-- <div class="info-price font-red"> -->
            <h2>123.45</h2>
            <p><span>-0.03</span><span>-0.26%</span></p>
          </div>
          <div class="info-datetime"><span>交易中</span><time>北京时间 2015-03-19 18:39:00</time></div>
          <!--<div class="info-news"><span class=""></span><a href="" title="">2014年年度业绩预亏暨公司股票可能被实施...</a></div>-->
        </div>
      </div>
      <div class="info-chart">
	      <div class="infoChart-cont">
		      <div class="infoChart-tab" id="infoChart-tab">
			      <span class="select">分时图</span>
			      <span>日K</span>
			      <span>周K</span>
			      <span>月K</span>
		      </div>
		      <div class="stock-chartinfo" id="line-Chart" style="display:block;"></div>
		      <div class="stock-chartinfo" id="kChart-day"></div>
		      <div class="stock-chartinfo" id="kChart-week"></div>
		      <div class="stock-chartinfo" id="kChart-month"></div>
	      </div>
        <div class="infoStock-mess">
          <div class="infoStock-tab">
            <div>五档盘口</div>
          </div>
          <div class="infoStock-cont">
            <p>公司是经山西省人民政府晋政函[1999]第64号文批准，由太原狮头集团有限公司联合山西省经贸资产经营有限公司、山西省经济建设投资公司、中国新型建筑材料(集团)公司、山西西山运输有限公司(现更名为山西固邦运输有限公司)四家发起人共同发起设立，于1999年2月28日注册登记的股份有限公司。 经中国证券监督管理委员会证监发行字[2001]42号文核准，本公司于2001年8月1日以每股发行价格6.98元，发行每股面值人民币1.00元的A种股票8000万股。</p>
            <p>公司是经山西省人民政府晋政函[1999]第64号文批准，由太原狮头集团有限公司联合山西省经贸资产经营有限公司、山西省经济建设投资公司、中国新型建筑材料(集团)公司、山西西山运输有限公司(现更名为山西固邦运输有限公司)四家发起人共同发起设立，于1999年2月28日注册登记的股份有限公司。 经中国证券监督管理委员会证监发行字[2001]42号文核准，本公司于2001年8月1日以每股发行价格6.98元，发行每股面值人民币1.00元的A种股票8000万股。</p>
          </div>
        </div>
      </div>
    </div>
    <div class="stock-left">
      <div class="stock-relation">
        <div class="stock-relation-tab">
          <h3 class="cur">主力资金</h3>
          <h3>公告</h3>
          <h3>相关投资观点</h3>
          <h3>相关独家报道</h3>
        </div>
      </div>
      <div class="stock-comments">
        <h2>发表评论</h2>
        <div class="comments-block">
          <textarea></textarea>
          <div>
            <span class="font-num">最少输入<i>5</i>字</span>
            <button>发表</button>
            <p>评论同时发布到:<input type="checkbox">234<img src="" alt=""></p>
          </div>
        </div>
        <div class="comments-cont">
          <h2>评论</h2>
          <!-- 评论开始 -->
          <div class="comments-list">
            <div class="comments-avatar">
              <a href=""><img src="./images/default-avatar.png" alt=""></a>
            </div>
            <div class="comments-main">
              <div class="comments-first">
                <h3><span>10分钟前</span>我是用户名</h3>
                <p>就戒指参数来说，这样的戒指在实体店至少应该要一万五。我也第一次在京东上买这么贵的东西，总结一下:1.送货速度非常闪电，当天下午下的单，第二天上午就到成都了2.戒指挺就戒指参数来说，这样的戒指在实体店至少应该要一万五。我也该要一万五。我也该要一万五。我也第一次在京东上买这么贵的东西...</p>
                <div class="comments-handle">
                  <span class="btn-assist">10</span>
                  <span class="btn-reply">回复</span>
                  <span class="btn-comments">5</span>
                </div>
                <div class="comments-reply">
                  <textarea name="" id=""></textarea>
                  <button>发表</button>
                </div>
              </div>
            </div>
          </div>
          <!-- 评论结束 -->
          <!-- 评论开始 -->
          <div class="comments-list">
            <div class="comments-avatar">
              <a href=""><img src="./images/default-avatar.png" alt=""></a>
            </div>
            <div class="comments-main">
              <div class="comments-first">
                <div class="comments-content">
                  <h3><span>10分钟前</span>我是用户名</h3>
                  <p>就戒指参数来说，这样的戒指在实体店至少应该要一万五。我也第一次在京东上买这么贵的东西，总结一下:1.送货速度非常闪电，当天下午下的单，第二天上午就到成都了2.戒指挺就戒指参数来说，这样的戒指在实体店至少应该要一万五。我也该要一万五。我也该要一万五。我也第一次在京东上买这么贵的东西...</p>
                </div>
                <div class="comments-handle">
                  <span class="btn-assist">10</span>
                  <span class="btn-reply">回复</span>
                  <span class="btn-comments">5</span>
                </div>
                <div class="comments-reply">
                  <textarea name="" id=""></textarea>
                  <button>发表</button>
                </div>
              </div>
              <div class="comments-second">
                <div class="second-list">
                  <div class="comments-avatar">
                    <a href=""><img src="./images/default-avatar.png" alt=""></a>
                  </div>
                  <div class="comments-second-right">
                    <div class="comments-content">
                      <h3><span>10分钟前</span>我是用户名</h3>
                      <p>就戒指参数来说，这样的戒指在实体店至少应该要一万五。我也第一次在京东上买这么贵的东西，总结一下:1.送货速度非常闪电，当天下午下的单，第二天上午就到成都了2.戒指挺就戒指参数来说，这样的戒指在实体店至少应该要一万五。我也该要一万五。我也该要一万五。我也第一次在京东上买这么贵的东西...</p>
                    </div>
                    <div class="comments-handle">
                      <span class="btn-assist">10</span>
                      <span class="btn-reply">回复</span>
                      <span class="btn-comments">5</span>
                    </div>
                  </div>
                </div>
                <div class="second-list">
                  <div class="comments-avatar">
                    <a href=""><img src="./images/default-avatar.png" alt=""></a>
                  </div>
                  <div class="comments-second-right">
                    <div class="comments-content">
                      <h3><span>10分钟前</span>我是用户名</h3>
                      <p>就戒指参数来说，这样的戒指在实体店至少应该要一万五。我也第一次在京东上买这么贵的东西，总结一下:1.送货速度非常闪电，当天下午下的单，第二天上午就到成都了2.戒指挺就戒指参数来说，这样的戒指在实体店至少应该要一万五。我也该要一万五。我也该要一万五。我也第一次在京东上买这么贵的东西...</p>
                    </div>
                    <div class="comments-handle">
                      <span class="btn-assist">10</span>
                      <span class="btn-reply">回复</span>
                      <span class="btn-comments">5</span>
                    </div>
                    <div class="comments-reply">
                      <textarea name="" id=""></textarea>
                      <button>发表</button>
                    </div>
                  </div>
                </div>
                <div class="second-list">
                  <div class="comments-avatar">
                    <a href=""><img src="./images/default-avatar.png" alt=""></a>
                  </div>
                  <div class="comments-second-right">
                    <div class="comments-content">
                      <h3><span>10分钟前</span>我是用户名</h3>
                      <p>就戒指参数来说，这样的戒指在实体店至少应该要一万五。我也第一次在京东上买这么贵的东西，总结一下:1.送货速度非常闪电，当天下午下的单，第二天上午就到成都了2.戒指挺就戒指参数来说，这样的戒指在实体店至少应该要一万五。我也该要一万五。我也该要一万五。我也第一次在京东上买这么贵的东西...</p>
                    </div>
                    <div class="comments-handle">
                      <span class="btn-assist">10</span>
                      <span class="btn-reply">回复</span>
                      <span class="btn-comments">5</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- 评论结束 -->
        </div>
      </div>
    </div>
    <div class="stock-right"></div>
  </div>
  
  <script src="./js/jquery-1.9.0.min.js"></script>
  <script src="./js/highstock.js"></script>
  <script>
	  var tooltipChart = {//
		  chartVar: null,//highcharts() 对象传入  在load时传入
		  SVGElements: {},
		  tooltipWidth:null,
		  buildTooltip: function(text, coord,isLeft) {
			  // we've to check if exists and remove it
			  try {
				  this.SVGElements.destroy();
			  } catch(e) {
				  // nothing
			  }
			  try {
				  // first of all we've to build a group to put the elements
				  this.SVGElements = this.chartVar.renderer.g().attr({'zIndex': 11}).add();
				  //将tooltip放在左边  coord[0] 左坐标位置正确的，coord[1]传入的是图表高度
				  // build tooltip text
				  var textContainer = this.chartVar.renderer.text(text, coord[0],coord[1])
					  .attr({
						  'zIndex': 10
					  })
					  .add(this.SVGElements);
				  // get text 'box'
				  var box = textContainer.getBBox();
				  tooltipChart.tooltipWidth=box.width;
				  // build  tooltip square according to the text location, then place the container behind the text
				  this.chartVar.renderer.rect(box.x , box.y, box.width , box.height , 1)
					  .attr({
						  'stroke-width': 1,            // border width
						  'stroke': '#a8a8a8',        // border color
						  'zIndex': 9,
						  'fill': 'white',            // background color
						  'fill-opacity': 0.85,        // background opacity
						  'isShadow': false
					  })
					  .add(this.SVGElements);
			  } catch(e) {
				  return false;
			  }
		  }
	  }
	  var orgHighchartsRangeSelectorPrototypeRender = Highcharts.RangeSelector.prototype.render;
	  Highcharts.RangeSelector.prototype.render = function (min, max) {
		  orgHighchartsRangeSelectorPrototypeRender.apply(this, [min, max]);
		  var leftPosition = this.chart.plotLeft,
			  topPosition = this.chart.plotTop,
			  space = 0;
		  this.zoomText.attr({
			  x: leftPosition,
			  y: topPosition
		  });
		  leftPosition += this.zoomText.getBBox().width;
		  for (var i = 0; i < this.buttons.length; i++) {
			  this.buttons[i].attr({
				  x: 750 - leftPosition,
				  y: topPosition - 30
			  });
			  leftPosition += this.buttons[i].width + space;
		  };
	  };
	  var originalDrawPoints = Highcharts.seriesTypes.column.prototype.drawPoints;
         Highcharts.seriesTypes.column.prototype.drawPoints = function () {
             var merge  = Highcharts.merge,
                 series = this,
                 chart  = this.chart,
                 points = series.points,
                 i      = points.length;
            var seriesPointAttr ;
            while (i--) {
                var candlePoint = chart.series[0].points[i];
                if(candlePoint.open != undefined && candlePoint.close !=  undefined){  //如果是K线图 改变矩形条颜色，否则不变
                    var color = (candlePoint.open < candlePoint.close) ? '#33AA11' : '#DD2200';
                    seriesPointAttr = merge(series.pointAttr);
                    seriesPointAttr[''].fill = color;
                    seriesPointAttr.hover.fill = Highcharts.Color(color).brighten(0.3).get();
                    seriesPointAttr.select.fill = color;
                }else{
                     seriesPointAttr = merge(series.pointAttr);
                }
                points[i].pointAttr = seriesPointAttr;
             }
            originalDrawPoints.call(this);
        };
  </script>
  <script>
	  $("#infoChart-tab span").on("click",function(){
		  //console.log($(this).index())
		  var thisN = $(this).index();
		  $(this).addClass("select").siblings().removeClass("select");
		  $(".infoChart-cont .stock-chartinfo").hide();
		  switch (thisN){
			  case 0:
				  $("#line-Chart").show();
				  break;
			  case 1:
				  kChartsDay();
				  $("#kChart-day").show();
				  break;
			  case 2:
				  kChartsWeek();
				  $("#kChart-week").show();
				  break;
			  case 3:
				  kChartsMonth();
				  $("#kChart-month").show();
				  break;
			  default:
				  break;
		  }
//		  $(this).addClass("select").siblings().removeClass("select");
//		  $(".infoChart-cont .stock-chartinfo").eq($(this).index()).show();
	  })
  </script>
  <script src="./js/stock-chart.js"></script>
  <script src="./js/kCharts-day.js"></script>
  <script src="./js/kCharts-week.js"></script>
  <script src="./js/kCharts-month.js"></script>
</body>
</html>